<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>CSample Class — CSample • riemtan</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="CSample Class — CSample"><meta property="og:description" content="This class represents a sample of connectomes, with various properties and methods to handle their tangent and vectorized images."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">riemtan</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/riemtan.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/nicoesve/riemtan/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>CSample Class</h1>
    <small class="dont-index">Source: <a href="https://github.com/nicoesve/riemtan/blob/HEAD/R/sample.R" class="external-link"><code>R/sample.R</code></a></small>
    <div class="hidden name"><code>CSample.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This class represents a sample of connectomes, with various properties and methods to handle their tangent and vectorized images.</p>
    </div>


    <div id="active-bindings">
    <h2>Active bindings</h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>connectomes</code></dt>
<dd><p>Connectomes data</p></dd>


<dt><code>tangent_images</code></dt>
<dd><p>Tangent images data</p></dd>


<dt><code>vector_images</code></dt>
<dd><p>Vector images data</p></dd>


<dt><code>sample_size</code></dt>
<dd><p>Sample size</p></dd>


<dt><code>matrix_size</code></dt>
<dd><p>Matrix size</p></dd>


<dt><code>mfd_dim</code></dt>
<dd><p>Manifold dimension</p></dd>


<dt><code>is_centered</code></dt>
<dd><p>Centering status</p></dd>


<dt><code>frechet_mean</code></dt>
<dd><p>Frechet mean</p></dd>


<dt><code>riem_metric</code></dt>
<dd><p>Riemannian Metric used</p></dd>


<dt><code>variation</code></dt>
<dd><p>Variation of the sample</p></dd>


<dt><code>sample_cov</code></dt>
<dd><p>Sample covariance</p></dd>


<dt><code>ref_point</code></dt>
<dd><p>Reference point for tangent or vectorized images</p></dd>


</dl><p></p></div>
    </div>
    <div id="methods">
    <h2>Methods</h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-CSample-new"><code>CSample$new()</code></a></p></li>
<li><p><a href="#method-CSample-compute_tangents"><code>CSample$compute_tangents()</code></a></p></li>
<li><p><a href="#method-CSample-compute_conns"><code>CSample$compute_conns()</code></a></p></li>
<li><p><a href="#method-CSample-compute_vecs"><code>CSample$compute_vecs()</code></a></p></li>
<li><p><a href="#method-CSample-compute_unvecs"><code>CSample$compute_unvecs()</code></a></p></li>
<li><p><a href="#method-CSample-compute_fmean"><code>CSample$compute_fmean()</code></a></p></li>
<li><p><a href="#method-CSample-change_ref_pt"><code>CSample$change_ref_pt()</code></a></p></li>
<li><p><a href="#method-CSample-center"><code>CSample$center()</code></a></p></li>
<li><p><a href="#method-CSample-compute_variation"><code>CSample$compute_variation()</code></a></p></li>
<li><p><a href="#method-CSample-compute_sample_cov"><code>CSample$compute_sample_cov()</code></a></p></li>
<li><p><a href="#method-CSample-clone"><code>CSample$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-CSample-new"></a><div class="section">
<h3 id="method-new-">Method <code><a href="https://rdrr.io/r/methods/new.html" class="external-link">new()</a></code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Initialize a CSample object</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/CSample.html">CSample</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  conns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tan_imgs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vec_imgs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  centered <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ref_pt <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">metric_obj</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>conns</code></dt>
<dd><p>A list of connectomes (default is NULL).</p></dd>


<dt><code>tan_imgs</code></dt>
<dd><p>A list of tangent images (default is NULL).</p></dd>


<dt><code>vec_imgs</code></dt>
<dd><p>A matrix whose rows are vectorized images (default is NULL).</p></dd>


<dt><code>centered</code></dt>
<dd><p>Boolean indicating whether tangent or vectorized images are centered (default is NULL).</p></dd>


<dt><code>ref_pt</code></dt>
<dd><p>A connectome (default is identity)</p></dd>


<dt><code>metric_obj</code></dt>
<dd><p>Object of class <code>rmetric</code> representing the Riemannian metric used.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>A new <code>CSample</code> object.</p>
</div>

</div><p></p><hr><a id="method-CSample-compute_tangents"></a><div class="section">
<h3 id="method-compute-tangents-">Method <code>compute_tangents()</code><a class="anchor" aria-label="anchor" href="#method-compute-tangents-"></a></h3>
<p>This function computes the tangent images from the connectomes.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">CSample</span><span class="op">$</span><span class="fu">compute_tangents</span><span class="op">(</span>ref_pt <span class="op">=</span> <span class="fu"><a href="../reference/default_ref_pt.html">default_ref_pt</a></span><span class="op">(</span><span class="va">private</span><span class="op">$</span><span class="va">p</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>ref_pt</code></dt>
<dd><p>A reference point, which must be a <code>dppMatrix</code> object (default is <code>default_ref_pt</code>).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>Error if <code>ref_pt</code> is not a <code>dppMatrix</code> object or if <code>conns</code> is not specified.</p>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>None</p>
</div>

</div><p></p><hr><a id="method-CSample-compute_conns"></a><div class="section">
<h3 id="method-compute-conns-">Method <code>compute_conns()</code><a class="anchor" aria-label="anchor" href="#method-compute-conns-"></a></h3>
<p>This function computes the connectomes from the tangent images.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">CSample</span><span class="op">$</span><span class="fu">compute_conns</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>Error if tangent images are not specified.</p>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>None</p>
</div>

</div><p></p><hr><a id="method-CSample-compute_vecs"></a><div class="section">
<h3 id="method-compute-vecs-">Method <code>compute_vecs()</code><a class="anchor" aria-label="anchor" href="#method-compute-vecs-"></a></h3>
<p>This function computes the vectorized tangent images from the tangent images.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">CSample</span><span class="op">$</span><span class="fu">compute_vecs</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p>Error if tangent images are not specified.</p>
</div>

<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>None</p>
</div>

</div><p></p><hr><a id="method-CSample-compute_unvecs"></a><div class="section">
<h3 id="method-compute-unvecs-">Method <code>compute_unvecs()</code><a class="anchor" aria-label="anchor" href="#method-compute-unvecs-"></a></h3>
<p>This function computes the tangent images from the vector images.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">CSample</span><span class="op">$</span><span class="fu">compute_unvecs</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-3">Details<a class="anchor" aria-label="anchor" href="#details-3"></a></h4>
<p>Error if <code>vec_imgs</code> is not specified.</p>
</div>

<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>None</p>
</div>

</div><p></p><hr><a id="method-CSample-compute_fmean"></a><div class="section">
<h3 id="method-compute-fmean-">Method <code>compute_fmean()</code><a class="anchor" aria-label="anchor" href="#method-compute-fmean-"></a></h3>
<p>This function computes the Frechet mean of the sample.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">CSample</span><span class="op">$</span><span class="fu">compute_fmean</span><span class="op">(</span>tol <span class="op">=</span> <span class="fl">0.05</span>, max_iter <span class="op">=</span> <span class="fl">20</span>, lr <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>tol</code></dt>
<dd><p>Tolerance for the convergence of the mean (default is 0.05).</p></dd>


<dt><code>max_iter</code></dt>
<dd><p>Maximum number of iterations for the computation (default is 20).</p></dd>


<dt><code>lr</code></dt>
<dd><p>Learning rate for the optimization algorithm (default is 0.2).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>None</p>
</div>

</div><p></p><hr><a id="method-CSample-change_ref_pt"></a><div class="section">
<h3 id="method-change-ref-pt-">Method <code>change_ref_pt()</code><a class="anchor" aria-label="anchor" href="#method-change-ref-pt-"></a></h3>
<p>This function changes the reference point for the tangent images.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">CSample</span><span class="op">$</span><span class="fu">change_ref_pt</span><span class="op">(</span><span class="va">new_ref_pt</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>new_ref_pt</code></dt>
<dd><p>A new reference point, which must be a <code>dppMatrix</code> object.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-4">Details<a class="anchor" aria-label="anchor" href="#details-4"></a></h4>
<p>Error if tangent images have not been computed or if <code>new_ref_pt</code> is not a <code>dppMatrix</code> object.</p>
</div>

<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>None</p>
</div>

</div><p></p><hr><a id="method-CSample-center"></a><div class="section">
<h3 id="method-center-">Method <code>center()</code><a class="anchor" aria-label="anchor" href="#method-center-"></a></h3>
<p>Center the sample</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">CSample</span><span class="op">$</span><span class="fu">center</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-5">Details<a class="anchor" aria-label="anchor" href="#details-5"></a></h4>
<p>This function centers the sample by computing the Frechet mean if it is not already computed, and then changing the reference point to the computed Frechet mean. Error if tangent images are not specified. Error if the sample is already centered.</p>
</div>

<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>None. This function is called for its side effects.</p>
</div>

</div><p></p><hr><a id="method-CSample-compute_variation"></a><div class="section">
<h3 id="method-compute-variation-">Method <code>compute_variation()</code><a class="anchor" aria-label="anchor" href="#method-compute-variation-"></a></h3>
<p>Compute Variation</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">CSample</span><span class="op">$</span><span class="fu">compute_variation</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-6">Details<a class="anchor" aria-label="anchor" href="#details-6"></a></h4>
<p>This function computes the variation of the sample. It first checks if the vector images are null, and if so, it computes the vectors, computing first the tangent images if necessary. If the sample is not centered, it centers the sample and recomputes the vectors. Finally, it calculates the variation as the mean of the sum of squares of the vector images. Error if <code>vec_imgs</code> is not specified.</p>
</div>

<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>None. This function is called for its side effects.</p>
</div>

</div><p></p><hr><a id="method-CSample-compute_sample_cov"></a><div class="section">
<h3 id="method-compute-sample-cov-">Method <code>compute_sample_cov()</code><a class="anchor" aria-label="anchor" href="#method-compute-sample-cov-"></a></h3>
<p>Compute Sample Covariance</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">CSample</span><span class="op">$</span><span class="fu">compute_sample_cov</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="details-7">Details<a class="anchor" aria-label="anchor" href="#details-7"></a></h4>
<p>This function computes the sample covariance matrix for the vector images. It first checks if the vector images are null, and if so, it computes the vectors, computing first the tangent images if necessary.</p>
</div>

<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p>None. This function is called for its side effects.</p>
</div>

</div><p></p><hr><a id="method-CSample-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">CSample</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Nicolas Escobar.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

